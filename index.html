<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Server is running</h1>
</body>
<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js";
    import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-database.js";
  
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyByI5UmrSTwkLGBvw72TpmbJIKu6Y0ckTU",
      authDomain: "doalb-35c2d.firebaseapp.com",
      databaseURL: "https://doalb-35c2d-default-rtdb.firebaseio.com",
      projectId: "doalb-35c2d",
      storageBucket: "doalb-35c2d.appspot.com",
      messagingSenderId: "202439284811",
      appId: "1:202439284811:web:5631b87a0a9401c9df95ce",
      measurementId: "G-8NCGQG5XJ6"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);
  
    // Function to send data to Firebase
    function sendDataToFirebase(temperature, humidity, brightness, roomid) {
      const temperatureWithUnit = `${temperature} Â°C`;
      const humidityWithUnit = `${humidity} %`;
      const brightnessWithUnit = `${brightness} %`;
      const Time=`${new Date().getHours()}:${new Date().getMinutes()}`;
      const Datenew=`${new Date().getDate()}.${new Date().getMonth()+1}.${new Date().getFullYear()}`
  
      const data = {
        temperature: temperatureWithUnit,
        humidity: humidityWithUnit,
        brightness: brightnessWithUnit,
        roomid: roomid,
        date:Datenew,
        time:Time
      };
  
      const reference = ref(database, 'sensor_data');
      push(reference, data)
        .then(() => {
          console.log("Data sent to Firebase successfully!");
        })
        .catch((error) => {
          console.error("Error sending data to Firebase: ", error);
        });
    }
  
    // Example data to send
    sendDataToFirebase(25, 60, 70, 'Room 101');
</script>
  
</html>